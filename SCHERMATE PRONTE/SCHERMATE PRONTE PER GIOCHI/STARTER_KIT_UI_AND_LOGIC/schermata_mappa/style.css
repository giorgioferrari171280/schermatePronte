/* Importazione dei font da Google Fonts per il tema giapponese */
@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;600&family=Yuji+Syuku&display=swap');

/* Stili globali e reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    width: 100%;
    height: 100%;
    font-family: 'Noto Serif JP', serif;
    color: #3c3836; 
    background-color: #fbf1c7;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d8cba9' fill-opacity='0.2'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

/* Contenitore globale per assicurare che tutto stia nello schermo */
.global-container {
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    padding: 20px;
}

/* Header */
.top-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    height: 10%;
    min-height: 60px;
    gap: 20px;
}

.title-container {
    width: 70%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0 25px;
    border: 2px solid #504945;
    background-color: #ebdbb2;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.title-container h1 {
    font-family: 'Yuji Syuku', serif;
    font-size: 2.5em;
    color: #282828;
}

.header-buttons {
    width: 30%;
    height: 100%;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 10px;
}

.header-buttons button {
    padding: 10px 20px;
    border: 2px solid #504945;
    background-color: #d5c4a1;
    cursor: pointer;
    font-size: 1em;
    font-weight: 600;
    transition: all 0.2s ease-in-out;
}

.header-buttons button:hover {
    background-color: #bdae93;
    border-color: #282828;
}

/* Corpo principale */
.main-body {
    flex-grow: 1;
    display: flex;
    gap: 20px;
    /* Riduciamo l'altezza massima per tenere conto del `padding` del `global-container` */
    height: calc(100% - 80px - 20px); 
}


/* Sezione Sinistra (Mappa) */
.left-section {
    width: 70%;
    height: 100%;
}

.map-container {
    border: 2px solid #7c6f64;
    padding: 15px;
    height: 100%;
    overflow-y: scroll; 
    background-color: rgba(235, 219, 178, 0.6);
}

.map-container::-webkit-scrollbar { width: 12px; }
.map-container::-webkit-scrollbar-track { background: #d5c4a1; }
.map-container::-webkit-scrollbar-thumb {
    background: #928374;
    border-radius: 6px;
    border: 2px solid #d5c4a1;
}

.map-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 15px;
}

.location-box {
    border: 2px solid #7c6f64;
    aspect-ratio: 1 / 1; 
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 5px;
    background-color: #f2e5bc;
    overflow: hidden;
    transition: all 0.2s ease;
}

.location-box img { max-width: 100%; max-height: 100%; object-fit: cover; }
.location-box.grayscale { filter: grayscale(100%); opacity: 0.8; }
.location-box.clickable:hover { border-color: #b16286; transform: scale(1.05); background-color: #faeacb; }

/* =============================================== */
/* Sezione Destra -- FIX BOX IMMAGINE QUADRATO     */
/* =============================================== */
.right-section {
    width: 30%;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Box immagine */
.selected-location-image {
    /* Rimuoviamo l'altezza fissa in percentuale */
    aspect-ratio: 1 / 1; /* ✅ FIX: Imposta il box per essere sempre un quadrato */
    flex-shrink: 0; /* Impedisce al box di rimpicciolirsi */
    
    padding: 10px;
    border: 2px solid #504945;
    background-color: #ebdbb2;
    display: flex;
    justify-content: center;
    align-items: center;
    font-style: italic;
    color: #665c54;
}

#selected-location-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

/* Box descrizione */
.description-container {
    /* Rimuoviamo l'altezza fissa in percentuale */
    flex-grow: 1; /* ✅ FIX: Permette al box di occupare tutto lo spazio verticale rimanente */
    min-height: 50px; /* Altezza minima per non sparire se c'è poco testo */

    padding: 15px;
    border: 2px solid #7c6f64;
    background-color: #f2e5bc;
    overflow-y: auto;
}

/* Box pulsanti VAI/INDIETRO */
.action-buttons {
    flex-shrink: 0; /* Impedisce ai pulsanti di rimpicciolirsi */
    border: none;
    background: none;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    gap: 10px;
}

.action-buttons button {
    padding: 15px;
    font-size: 1.1em;
    font-weight: 600;
    font-family: 'Noto Serif JP', serif;
    border: 2px solid #504945;
    cursor: pointer;
    transition: all 0.2s ease;
}

#go-button { background-color: #98971a; color: #fbf1c7; }
#go-button:hover:not(:disabled) { background-color: #79740e; }
#go-button:disabled { background-color: #a89984; cursor: not-allowed; color: #665c54; border-color: #928374; }

#back-button { background-color: #cc241d; color: #fbf1c7; }
#back-button:hover { background-color: #9d0006; }